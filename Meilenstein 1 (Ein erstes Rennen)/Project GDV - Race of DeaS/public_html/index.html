<html>
	<head>
		<title>Race of DeaS</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
            <script src="JS/three.js"></script>
            <script src="JS/three.min.js"></script>
            <script src="js/THREEx.KeyboardState.js"></script>
		<script>
                    var keyboard = new THREEx.KeyboardState();
                    var clock = new THREE.Clock();
                    var collidableMeshList = [];
                    
			//Neue Szene
                        scene = new THREE.Scene();
                        
                        //Neue Kamera
                        camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 20000);
                        scene.add(camera);
                        camera.position.set(0,200,500);
                        camera.lookAt(scene.position);
                        
                        //Den Renderer einfuehren
                        var renderer = new THREE.WebGLRenderer();
                        renderer.setSize(window.innerWidth, window.innerHeight);
                        document.body.appendChild(renderer.domElement);
                        
                        
                                                
                        // Fußboden
                        var floorMaterial = new THREE.MeshBasicMaterial( {color:0x444444, side:THREE.DoubleSide} );
                        var floorGeometry = new THREE.PlaneGeometry(1000, 1000, 10, 10);
                        var floor = new THREE.Mesh(floorGeometry, floorMaterial);
                        floor.position.y = -0.5;
                        floor.rotation.x = Math.PI / 2;
                        scene.add(floor);
                        
                        //Neuer Würfel
                        var geometry = new THREE.BoxGeometry(4,4,4);
                        var material = new THREE.MeshBasicMaterial({color:0x00ff00});
                        var cube = new THREE.Mesh(geometry,material);
                        scene.add(cube);
                        
                        camera.position.z = 7;
                        camera.position.y = 7;
                        
                        //2 Wände
                        var wallGeometry = new THREE.CubeGeometry( 100, 100, 20, 1, 1, 1 );
                        var wallMaterial = new THREE.MeshBasicMaterial( {color: 0x8888ff} );
                        var wireMaterial = new THREE.MeshBasicMaterial( { color: 0x000000, wireframe:true } );

                        var wall = new THREE.Mesh(wallGeometry, wallMaterial);
                        wall.position.set(100, 50, -100);
                        scene.add(wall);
                        collidableMeshList.push(wall);
                        var wall = new THREE.Mesh(wallGeometry, wireMaterial);
                        wall.position.set(100, 50, -100);
                        scene.add(wall);

                        var wall2 = new THREE.Mesh(wallGeometry, wallMaterial);
                        wall2.position.set(-150, 50, 0);
                        wall2.rotation.y = 3.14159 / 2;
                        scene.add(wall2);
                        collidableMeshList.push(wall2);
                        var wall2 = new THREE.Mesh(wallGeometry, wireMaterial);
                        wall2.position.set(-150, 50, 0);
                        wall2.rotation.y = 3.14159 / 2;
                        scene.add(wall2);
                        
                        
                        //Szene aktuell halten (Updaten)
                        function render()
                        {
                            requestAnimationFrame(render);
                            update();
                            renderer.render(scene, camera);
                        }
                        render();
                        
                        function update()
                        {
                        var delta = clock.getDelta();           // Sekunden
                        var moveDistance = 200 * delta;         // 200 pixels pro Sekunde
                        var rotateAngle = Math.PI / 2 * delta;  // Pi/2 Grad (90°) pro Sekunde

                        if ( keyboard.pressed("A") )
                                cube.rotation.y += rotateAngle;
                        if ( keyboard.pressed("D") )
                                cube.rotation.y -= rotateAngle;

                        if ( keyboard.pressed("left") )
                                cube.position.x -= moveDistance;
                        if ( keyboard.pressed("right") )
                                cube.position.x += moveDistance;
                        if ( keyboard.pressed("up") )
                                cube.position.z -= moveDistance;
                        if ( keyboard.pressed("down") )
                                cube.position.z += moveDistance;
                        }
                        
		</script>
                
                
	</body>
</html>
